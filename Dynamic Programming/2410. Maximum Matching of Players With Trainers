//MEMOIZATION
class Solution {
private:
    int solve(int p,int t,vector<int>& players, vector<int>& trainers,vector<vector<int>>&dp){
        int m=players.size();
        int n=trainers.size();

        //base case
        if(p>=m || t>=n) return 0;

        if(dp[p][t] != -1) return dp[p][t];

        int take=0;
        if(players[p]<=trainers[t]){
            take=1+solve(p+1,t+1,players,trainers,dp);
        }

        int skip=solve(p,t+1,players,trainers,dp);

        return dp[p][t]=max(take,skip);
    }    
public:
    int matchPlayersAndTrainers(vector<int>& players, vector<int>& trainers) {
        int m=players.size();
        int n=trainers.size();
        sort(players.begin(),players.end());
        sort(trainers.begin(),trainers.end());
        vector<vector<int>>dp(m,vector<int>(n,-1));
        return solve(0,0,players,trainers,dp);
    }
};

//TABULATION
class Solution {   
public:
    int matchPlayersAndTrainers(vector<int>& players, vector<int>& trainers) {
        int m=players.size();
        int n=trainers.size();
        sort(players.begin(),players.end());
        sort(trainers.begin(),trainers.end());
        vector<vector<int>>dp(m+1,vector<int>(n+1,0));
        
        for(int p=m-1; p>=0; p--){
            for(int t=n-1; t>=0; t--){
                int take=0;
                if(players[p]<=trainers[t]){
                    take=1+dp[p+1][t+1];
                }

                int skip=dp[p][t+1];

                dp[p][t]=max(take,skip);
            }
        }
        return dp[0][0];
    }
};

//OPTIMAL - 2 Pointer
class Solution {
public:
    int matchPlayersAndTrainers(vector<int>& players, vector<int>& trainers) {
        sort(players.begin(),players.end());
        sort(trainers.begin(),trainers.end());

        int p=0;
        int t=0;

        int count=0;

        while(p<players.size() && t<trainers.size()){
            if(trainers[t]>=players[p]){
                count++;
                p++;
                t++;
            }
            //skip the trainer
            else t++;
        }
        return count;
    }
};
